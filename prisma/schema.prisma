// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma-ts"
  importFileExtension = "js"
}

datasource db {
  provider = "postgresql"
}

enum CredentialDeviceType {
  singleDevice
  multiDevice
}

enum AuthenticatorTransportFuture {
  ble
  cable
  hybrid
  internal
  nfc
  smartcard
  usb
}

model passkeys {
  id String @id
  publicKey Bytes @db.ByteA
  userId String @unique
  webauthnUserID String @unique
  counter BigInt
  deviceType CredentialDeviceType
  backedUp Boolean @default(false)
  transports AuthenticatorTransportFuture[] 
  createdAt DateTime @default(now())
  lastUsedAt DateTime @updatedAt
  user User @relation(fields: [userId], references: [id])

  @@index([webauthnUserID])
}

model User {
  id        String   @id @default(uuid())
  username  String   @unique
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  passkeys  passkeys[]
}

enum mariageStatus {
  divorced
  married
  single
  unknown
}

enum Status {
  yes
  no
  unknown
}

enum days {
  monday
  tuesday
  wednesday
  thursday
  friday
  saturday
  sunday
}

enum months {
  january
  february
  march
  april
  may
  june
  july
  august
  september
  october
  november
  december
}

enum subscribeStatus {
  failure
  nonexistent
  success
}

model customers {
  id Int @id @default(autoincrement())
  name String
  age Int
  job String
  education String
  marital mariageStatus
  contact_comunication String
  housing_loan Status
  personal_loan Status
  has_credit Status
  last_day_contacted days
  last_month_contacted months
  how_many_contacted_now Int
  how_many_contacted_previous Int
  days_last_contacted Int
  result_of_last_campaign subscribeStatus
  predictive_subscribe subscribeStatus
  predictive_score_subscribe Float
}